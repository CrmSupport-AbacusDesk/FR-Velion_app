<ion-view view-title="Order Detail">
    <ion-nav-buttons side="left">
        <a ng-click = "goToBackPageHandler()" class="cs-backbtn button button-icon icon ion-android-arrow-back font18 fff"></a>
    </ion-nav-buttons>
    
    <ion-content>
        <div class="coman-list clrd-bg">
            <div class="center-item">
                <div class="cs-icon">{{orderDetail.dr_name[0] ? orderDetail.dr_name[0] : '--'}}</div>
                <div class="cs-content">
                    <p>{{orderDetail.dr_name ? orderDetail.dr_name : 'N/A'}}</p>
                    <span>{{orderDetail.type_name ? orderDetail.type_name : 'N/A'}}</span>
                    <a class="icon-content"><i class="material-icons">email</i> {{orderDetail.email ? orderDetail.email : 'N/A'}}</a>
                </div>
                <a ng-if="orderDetail.contact_mobile_no" href="tel: {{orderDetail.contact_mobile_no}}" class="dialer"><i class="material-icons">call</i></a>
            </div>
            
            <div class="pdlr">
                <div class="bdr-field">
                    <span>Address</span>
                    <p>{{orderDetail.street}} {{orderDetail.state_name}} {{orderDetail.district_name ? ', '+orderDetail.district_name : ''}}{{orderDetail.city ? ', '+orderDetail.city : ''}} {{orderDetail.pincode ? '- '+orderDetail.pincode : ''}}</p>
                </div>
            </div>
        </div>
        
        <div class="padding16">
            
            <div class="cs-flex">
                <div class="bdr-field wp100">
                    <span>Distributor Info</span>
                    <p>{{orderDetail.deliveryFromName ? orderDetail.deliveryFromName : 'N/A'}} {{orderDetail.deliveryFromMobile ? ' / +91 '+orderDetail.deliveryFromMobile : ''}}</p>
                </div>
            </div>
            
            
            <div class="cs-flex">
                <div class="bdr-field wp100">
                    <span>Date Created</span>
                    <p>{{orderDetail.dateCreatedInFormat ? orderDetail.dateCreatedInFormat : 'N/A'}}</p>
                </div>
                <div class="bdr-field w120 pending-bg">
                    <span>Status</span>
                    <p>{{orderDetail.order_status ? orderDetail.order_status : 'N/A'}}</p>
                </div>
                
                <div ng-if="orderDetail.order_status == 'Reject'" class="bdr-field w120 pending-bg">
                    <span>Reason Reject</span>
                    <p>{{orderDetail.reason_reject ? orderDetail.reason_reject : 'N/A'}}</p>
                </div>
                
                
                <div ng-if="orderDetail.order_status == 'Reject'" class="bdr-field w120 pending-bg">
                    <span>Reject Date</span>
                    <p>{{orderDetail.reject_date | date: 'd MMM y'}}</p>
                </div>
            </div>
            
            
            <div class="cart-card">
                
                <div class="list-heading">Item Information</div>
                
                <div ng-repeat="row in orderDetail.itemData" class="coman-list ">
                    <div class="center-item">
                        <div class="cs-content">
                            <p>{{row.category}} {{row.sub_category ? ', '+row.sub_category : ''}} {{row.product_name ? ', '+row.product_name : ''}}</p>
                            <span>#{{row.product_code ? row.product_code : ''}}</span>
                        </div>
                    </div>
                    <div class="pdlr">
                        <div class="cs-flex">
                            <div class="bdr-field wp100">
                                <span>QTY</span>
                                <p>{{row.qty ? row.qty : '0'}}</p>
                            </div>
                            <div class="bdr-field wp100">
                                <span>Rate</span>
                                <p> &#8377;  {{row.rate ? row.rate : ''}} </p>
                            </div>
                            <div class="bdr-field wp100">
                                <span>Amount</span>
                                <p>{{row.qty * row.rate}}</p>
                            </div>
                            
                        </div>
                        
                        <div class="cs-flex">
                            <div class="bdr-field wp100">
                                <span>Discount</span>
                                <p> &#8377;  {{row.dis_amt ? row.dis_amt : '0'}} ({{row.dis_percent ? row.dis_percent : '0'}} %) </p>
                            </div>
                            
                            <div class="bdr-field wp100">
                                <span>GST (18%)</span>
                                <p>{{row.cgst_amount + row.sgst_amount + row.igst_amount}}</p>
                            </div>
                            <div class="bdr-field wp100">
                                <span>Item Total</span>
                                <p>{{row.item_net_total ? row.item_net_total : '0'}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="summary-table">
                <table>
                    <tr>
                        <td class="w130">Total Item</td>
                        <td class="text-right" style="font-size: 14px;">{{orderDetail.item_count ? orderDetail.item_count : '0'}}</td>
                    </tr>
                    <tr>
                        <td>Item Total</td>
                        <td class="text-right" style="font-size: 14px;">{{orderDetail.item_total ? orderDetail.item_total : '0'}}</td>
                    </tr>
                    
                    <tr>
                        <td>Discount Amount</td>
                        <td class="text-right" style="font-size: 14px;">Rs. {{orderDetail.dis_amt ? orderDetail.dis_amt : '0'}}</td>
                    </tr>
                    
                    <tr>
                        <td>Sub Total</td>
                        <td class="text-right" style="font-size: 14px;">Rs. {{orderDetail.sub_total ? orderDetail.sub_total : '0'}}</td>
                    </tr>
                    
                    <tr>
                        <td>GST Amount</td>
                        <td class="text-right" style="font-size: 14px;">Rs. {{orderDetail.gst_amt ? orderDetail.gst_amt : '0'}}</td>
                    </tr>
                    
                    <tr>
                        <td>Final Amount </td>
                        <td class="text-right" style="font-size: 14px;">Rs. {{orderDetail.net_total ? orderDetail.net_total : '0'}}</td>
                    </tr>
                </table>
            </div>
            
        </div>
    </ion-content>
</ion-view>


